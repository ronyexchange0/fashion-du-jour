{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import Loader from'../../components/loader/loader.component';import Product from'../../components/product/product.component';import AsideFilter from'../../components/aside-filter/aside-filter.component';import Button from'../../components/button/button.component';import{productsListAction}from'../../redux/products/products.actions';import\"./shop-page.style.scss\";var ShopPage=function ShopPage(_ref){var match=_ref.match;var cat=match.params.cat?match.params.cat:\"any\";var color=match.params.color?match.params.color:\"any\";var from=match.params.from?match.params.from:0;var to=match.params.to?match.params.to:\"any\";var productsList=useSelector(function(state){return state.productsList;});var loading=productsList.loading,error=productsList.error,products=productsList.products,productsloaded=productsList.productsloaded;var dispatch=useDispatch();useEffect(function(){dispatch(productsListAction(cat,color,from,to));},[dispatch,cat,color,from,to]);var addClass=function addClass(e){var mediaQuery=window.matchMedia('(max-width: 768px)');if(mediaQuery.matches){document.querySelector(\".filter\").classList.toggle(\"mobile\");console.log(\"text\");}};return/*#__PURE__*/_jsx(\"main\",{className:\"shop-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(AsideFilter,{catToSelect:cat})}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(\"h2\",{children:\"ERROR\"}):productsloaded?/*#__PURE__*/_jsxs(\"div\",{className:\"products col-md-9\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center heading\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shop\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[products.length,\" \"]}),\"items found\"]})]}),/*#__PURE__*/_jsx(Button,{addClass:addClass,text:\"Filters\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 col-lg-4 \",children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})})]}):\"\"]})})});};export default ShopPage;","map":{"version":3,"sources":["/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/src/pages/shop-page/shop-page.component.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Loader","Product","AsideFilter","Button","productsListAction","ShopPage","match","cat","params","color","from","to","productsList","state","loading","error","products","productsloaded","dispatch","addClass","e","mediaQuery","window","matchMedia","matches","document","querySelector","classList","toggle","console","log","length","map","product","_id"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport Loader from '../../components/loader/loader.component';\nimport Product from '../../components/product/product.component';\nimport AsideFilter from '../../components/aside-filter/aside-filter.component';\nimport Button from '../../components/button/button.component';\nimport { productsListAction } from '../../redux/products/products.actions';\n\nimport \"./shop-page.style.scss\";\n\nconst ShopPage = ({match}) => {\n  \n    const cat = match.params.cat ? match.params.cat : \"any\"\n    const color = match.params.color ? match.params.color : \"any\"\n    const from = match.params.from ? match.params.from : 0\n    const to = match.params.to ? match.params.to : \"any\"\n\n    const productsList = useSelector(state => state.productsList)\n    const {loading, error, products, productsloaded} = productsList\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(productsListAction(cat, color, from, to))\n        \n    }, [dispatch, cat, color, from, to])\n\n\n    \n    const addClass = (e) => {\n        const mediaQuery = window.matchMedia('(max-width: 768px)')\n        if (mediaQuery.matches) {\n            document.querySelector(\".filter\").classList.toggle(\"mobile\");\n            console.log(\"text\")\n        }\n    }\n\n    return (\n        <main className=\"shop-page\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-3\">\n                        <AsideFilter catToSelect={cat}/>\n                    </div>\n                    {\n                        loading ? (\n                            <Loader/>\n                        ) : error ? (\n                            <h2>ERROR</h2>\n                        ) : productsloaded ? (\n                            <div className=\"products col-md-9\">\n                                <div className=\"d-flex justify-content-between align-items-center heading\">\n                                    <h1>Shop</h1>\n                                    <p><span>{products.length} </span>items found</p>\n                                </div>\n                                <Button addClass={addClass} text=\"Filters\"></Button>\n                                <div className=\"row\">\n                                    {\n                                        products.map((product) => (\n                                            <div key={product._id} className=\"col-sm-6 col-lg-4 \">\n                                                <Product product={product}/>\n                                            </div>\n                                        ))\n                                    }    \n                                </div>\n                            </div>\n                        ) : \"\"\n                    }\n                </div>\n            </div>\n        </main>\n        )\n    }\n\nexport default ShopPage\n"]},"metadata":{},"sourceType":"module"}