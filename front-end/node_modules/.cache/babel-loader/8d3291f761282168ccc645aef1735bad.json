{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from\"react-redux\";import Stars from'../../components/stars/stars.component';import Loader from'../../components/loader/loader.component';import Button from'../../components/button/button.component';import{productDetailsAction}from'../../redux/productDetails/productDetails.actions';import{shrinkifySizes}from'../../utils/utils';import\"./product-page.style.scss\";var ProductPage=function ProductPage(_ref){var match=_ref.match;var _useState=useState(\"small\"),_useState2=_slicedToArray(_useState,2),sizeURL=_useState2[0],setSize=_useState2[1];var _useState3=useState(\"black\"),_useState4=_slicedToArray(_useState3,2),colorURL=_useState4[0],setColor=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),selectedSizeIndex=_useState6[0],setSelectedSizeIndex=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),selectedColorIndex=_useState8[0],setSelectedColorIndex=_useState8[1];var productDetailsReducer=useSelector(function(state){return state.productDetails;});var loading=productDetailsReducer.loading,error=productDetailsReducer.error,productDetails=productDetailsReducer.productDetails,loaded=productDetailsReducer.loaded;var dispatch=useDispatch();useEffect(function(){dispatch(productDetailsAction(match.params.id));},[dispatch]);var _id=productDetails._id,thumb=productDetails.thumb,images=productDetails.images,name=productDetails.name,colors=productDetails.colors,sizes=productDetails.sizes,discount=productDetails.discount,price=productDetails.price,countInStock=productDetails.countInStock,description=productDetails.description;console.log(\"TEST\",sizeURL,colorURL);var selectSize=function selectSize(index){setSelectedSizeIndex(index);};var selectColor=function selectColor(index){setSelectedColorIndex(index);};return/*#__PURE__*/_jsx(\"main\",{className:\"product-page\",children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(\"h2\",{children:\"ERROR\"}):loaded?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 image\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-page-image-active\",style:{backgroundImage:\"url(\".concat(thumb,\")\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:images.filter(function(image,idx){return idx<6;}).map(function(image,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-page-image\",style:{backgroundImage:\"url(\".concat(image,\")\")}})},idx);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"colors\",children:colors.map(function(color,index){return/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(index==selectedColorIndex?\"selected\":\"\",\" color \").concat(color),onClick:function onClick(){setColor(color);selectColor(index);}},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"sizes\",children:sizes.map(function(size,index){return/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(index==selectedSizeIndex?\"selected\":\"\",\"  size\"),onClick:function onClick(){setSize(size);selectSize(index);},children:shrinkifySizes(size)},index);})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"price\",children:[discount!==0&&/*#__PURE__*/_jsxs(\"span\",{className:\"discount\",children:[discount,\"$\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"price \".concat(discount!==0&&\"cheaper\"),children:[price,\"$\"]})]})]}),/*#__PURE__*/_jsx(Button,{text:\"\".concat(countInStock>0?\"Add To Cart\":\"Out Of Stock\"),disabled:countInStock===0,link:\"/cart/\".concat(_id,\"?\").concat(sizeURL,\"?\").concat(colorURL,\"?\").concat(discount?discount:price)}),/*#__PURE__*/_jsx(\"div\",{className:\"description\",children:/*#__PURE__*/_jsx(\"p\",{children:description})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reviews\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"review\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buyer-info\",children:[/*#__PURE__*/_jsx(Stars,{stars:4}),/*#__PURE__*/_jsx(\"p\",{children:\"John Doe\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"comment\",children:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris viverra sagittis pharetra est sed vulputate.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buyer-info\",children:[/*#__PURE__*/_jsx(Stars,{stars:\"4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"John Doe\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"comment\",children:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris viverra sagittis pharetra est sed vulputate.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-review\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Leave a review\"}),/*#__PURE__*/_jsx(Stars,{stars:4}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Comment\"}),/*#__PURE__*/_jsx(Button,{text:\"Submit\"})]})]}):\"\"});};export default ProductPage;","map":{"version":3,"sources":["/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/src/pages/product-page/product-page.component.jsx"],"names":["React","useEffect","useState","useSelector","useDispatch","Stars","Loader","Button","productDetailsAction","shrinkifySizes","ProductPage","match","sizeURL","setSize","colorURL","setColor","selectedSizeIndex","setSelectedSizeIndex","selectedColorIndex","setSelectedColorIndex","productDetailsReducer","state","productDetails","loading","error","loaded","dispatch","params","id","_id","thumb","images","name","colors","sizes","discount","price","countInStock","description","console","log","selectSize","index","selectColor","backgroundImage","filter","image","idx","map","color","size"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {useSelector, useDispatch} from \"react-redux\";\n\nimport Stars from '../../components/stars/stars.component'\nimport Loader from '../../components/loader/loader.component'\nimport Button from '../../components/button/button.component'\nimport { productDetailsAction } from '../../redux/productDetails/productDetails.actions';\nimport { shrinkifySizes } from '../../utils/utils';\n\nimport \"./product-page.style.scss\";\n\nconst ProductPage = ({match}) => {\n\n    const [sizeURL, setSize] = useState(\"small\")\n    const [colorURL, setColor] = useState(\"black\")\n    const [selectedSizeIndex, setSelectedSizeIndex] = useState(0)\n    const [selectedColorIndex, setSelectedColorIndex] = useState(0)\n\n    const productDetailsReducer = useSelector(state => state.productDetails)\n    const {loading, error, productDetails, loaded} = productDetailsReducer\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(productDetailsAction(match.params.id))\n    }, [dispatch])\n\n    const {_id, thumb, images, name, colors, sizes, discount, price, countInStock, description} = productDetails\n    console.log(\"TEST\", sizeURL, colorURL)\n\n    const selectSize = (index) => {\n        setSelectedSizeIndex(index)\n    }\n\n    const selectColor = (index) => {\n        setSelectedColorIndex(index)\n    }\n\n    return (\n        <main className=\"product-page\">\n            {\n                loading ? (\n                    <Loader/>\n                ) : error ? (\n                    <h2>ERROR</h2>\n                ) : loaded ? (\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-6 image\">\n                                <div className=\"product-page-image-active\" style={{backgroundImage: `url(${thumb})`}}></div>\n                                <div className=\"row\">\n                                    {\n                                        images.filter((image, idx) => idx < 6).map((image, idx) => (\n                                            <div key={idx} className=\"col-2\">\n                                                <div className=\"product-page-image\" style={{backgroundImage: `url(${image})`}}></div>\n                                            </div>\n                                        ))\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"col-md-6 content\">\n                                <h1>{name}</h1>\n                                <div className=\"details\">\n                                    <div className=\"colors\">\n                                        {\n                                            colors.map((color, index) => (\n                                                <span \n                                                key={index} \n                                                className={`${index == selectedColorIndex ? \"selected\" : \"\"} color ${color}`}\n                                                onClick={() => {\n                                                    setColor(color)\n                                                    selectColor(index)\n                                                }}\n                                                >\n                                                </span>\n                                            ))\n                                        }\n                                    </div>\n\n                                    <div className=\"sizes\">\n                                    {\n                                        sizes.map((size, index) => {\n                                            return (\n                                                <span \n                                                key={index} \n                                                className={`${index == selectedSizeIndex ? \"selected\" : \"\"}  size`}\n                                                onClick={() => {\n                                                    setSize(size)\n                                                    selectSize(index)\n                                                }}\n                                                >\n                                                    {shrinkifySizes(size)}\n                                                </span>\n                                            )\n                                        })\n                                    }\n                                    </div>\n                                    <h2 className=\"price\">\n                                        {discount !== 0 && <span className=\"discount\">{discount}$</span> }\n                                        <span className={`price ${discount !== 0 && \"cheaper\" }`}>{price}$</span>\n                                    </h2>  \n                                </div>\n                                <Button \n                                text={`${countInStock > 0 ? \"Add To Cart\" : \"Out Of Stock\"}`}\n                                disabled={countInStock === 0}\n                                link={`/cart/${_id}?${sizeURL}?${colorURL}?${discount ? discount : price }`}/>\n                                <div className=\"description\">\n                                    <p>{description}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/*\n                        MAYBE LATER\n                        <div className=\"similar-products\">\n                            <h2>Similar Items</h2>\n                            <div className=\"row\">\n                                <div className=\"col-md-3\">\n                                    <Product/>\n                                </div>\n\n                                <div className=\"col-md-3\">\n                                    <Product/>\n                                </div>\n\n                                <div className=\"col-md-3\">\n                                    <Product/>\n                                </div>\n\n                                <div className=\"col-md-3\">\n                                    <Product/>\n                                </div>\n                            </div>\n                        </div> */}\n\n                        <div className=\"reviews\">\n                            <h3>Reviews</h3>\n                            <div className=\"review\">\n                                <div className=\"buyer-info\">\n                                    <Stars stars={4}/>\n                                    <p>John Doe</p>\n                                </div>\n                                <p className=\"comment\">\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris viverra sagittis pharetra est sed vulputate.\n                                </p>\n                            </div>\n\n                            <div className=\"review\">\n                                <div className=\"buyer-info\">\n                                    <Stars stars=\"4\"/>\n                                    <p>John Doe</p>\n                                </div>\n                                <p className=\"comment\">\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris viverra sagittis pharetra est sed vulputate.\n                                </p>\n                            </div>\n                        </div>\n\n                        <div className=\"add-review\">\n                            <h3>Leave a review</h3>\n                            <Stars stars={4}/>\n                            <textarea placeholder=\"Comment\"></textarea>\n                            <Button text=\"Submit\"/>\n                        </div>\n                    </div>\n                ) : \"\"\n            }\n            \n        </main>\n    )\n}\n\nexport default ProductPage\n"]},"metadata":{},"sourceType":"module"}