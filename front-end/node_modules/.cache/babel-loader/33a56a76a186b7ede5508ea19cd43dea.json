{"ast":null,"code":"import{productsActionsTypes}from\"./products.types\";var INITIAL_STATE={loading:false,products:[],error:null,productsloaded:false};var productsReducer=function productsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case productsActionsTypes.PRODUCTS_LIST_REQUEST:return{loading:true,products:[],productsloaded:false};case productsActionsTypes.PRODUCTS_LIST_SUCCESS:return{loading:false,productsloaded:true,products:action.payload.data.filter(function(product){var priceToFilter=product.discount===0?product.price:product.discount;if(product.category===action.payload.cat||action.payload.cat===\"any\"){if(priceToFilter>action.payload.from&&priceToFilter<action.payload.to||action.payload.from==0&&action.payload.to===\"any\"){if(product.colors.includes(action.payload.color)||action.payload.color===\"any\"){return true;}else{return false;}}else{return false;}}else{return false;}})};case productsActionsTypes.PRODUCTS_LIST_FAIL:return{loading:false,error:action.payload};default:return state;}};export default productsReducer;","map":{"version":3,"sources":["/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/src/redux/products/products.reducer.js"],"names":["productsActionsTypes","INITIAL_STATE","loading","products","error","productsloaded","productsReducer","state","action","type","PRODUCTS_LIST_REQUEST","PRODUCTS_LIST_SUCCESS","payload","data","filter","product","priceToFilter","discount","price","category","cat","from","to","colors","includes","color","PRODUCTS_LIST_FAIL"],"mappings":"AAAA,OAAQA,oBAAR,KAAmC,kBAAnC,CAEA,GAAMC,CAAAA,aAAa,CAAG,CAClBC,OAAO,CAAE,KADS,CAElBC,QAAQ,CAAE,EAFQ,CAGlBC,KAAK,CAAE,IAHW,CAIlBC,cAAc,CAAE,KAJE,CAAtB,CASA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAmC,IAAlCC,CAAAA,KAAkC,2DAA1BN,aAA0B,IAAXO,CAAAA,MAAW,2CACvD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKT,CAAAA,oBAAoB,CAACU,qBAA1B,CACI,MAAO,CAACR,OAAO,CAAE,IAAV,CAAgBC,QAAQ,CAAE,EAA1B,CAA8BE,cAAc,CAAE,KAA9C,CAAP,CACJ,IAAKL,CAAAA,oBAAoB,CAACW,qBAA1B,CACI,MAAO,CACHT,OAAO,CAAE,KADN,CAEHG,cAAc,CAAE,IAFb,CAGHF,QAAQ,CAAEK,MAAM,CAACI,OAAP,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,SAAAC,OAAO,CAAI,CAE5C,GAAMC,CAAAA,aAAa,CAAGD,OAAO,CAACE,QAAR,GAAqB,CAArB,CAAyBF,OAAO,CAACG,KAAjC,CAAyCH,OAAO,CAACE,QAAvE,CAEA,GAAIF,OAAO,CAACI,QAAR,GAAqBX,MAAM,CAACI,OAAP,CAAeQ,GAApC,EAA2CZ,MAAM,CAACI,OAAP,CAAeQ,GAAf,GAAuB,KAAtE,CAA6E,CAEzE,GAAKJ,aAAa,CAAGR,MAAM,CAACI,OAAP,CAAeS,IAA/B,EAAuCL,aAAa,CAAGR,MAAM,CAACI,OAAP,CAAeU,EAAvE,EAA+Ed,MAAM,CAACI,OAAP,CAAeS,IAAf,EAAuB,CAAvB,EAA4Bb,MAAM,CAACI,OAAP,CAAeU,EAAf,GAAsB,KAArI,CAA6I,CACzI,GAAIP,OAAO,CAACQ,MAAR,CAAeC,QAAf,CAAwBhB,MAAM,CAACI,OAAP,CAAea,KAAvC,GAAiDjB,MAAM,CAACI,OAAP,CAAea,KAAf,GAAyB,KAA9E,CAAqF,CACjF,MAAO,KAAP,CACH,CAFD,IAEO,CACH,MAAO,MAAP,CACH,CAEJ,CAPD,IAOO,CACH,MAAO,MAAP,CACH,CAEJ,CAbD,IAaO,CACH,MAAO,MAAP,CACH,CACJ,CApBS,CAHP,CAAP,CA0BJ,IAAKzB,CAAAA,oBAAoB,CAAC0B,kBAA1B,CACI,MAAO,CAACxB,OAAO,CAAE,KAAV,CAAiBE,KAAK,CAAEI,MAAM,CAACI,OAA/B,CAAP,CACJ,QACI,MAAOL,CAAAA,KAAP,CAjCR,CAmCH,CApCD,CAsCA,cAAeD,CAAAA,eAAf","sourcesContent":["import {productsActionsTypes} from \"./products.types\";\n\nconst INITIAL_STATE = {\n    loading: false,\n    products: [],\n    error: null,\n    productsloaded: false\n}\n\n\n\nconst productsReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case productsActionsTypes.PRODUCTS_LIST_REQUEST:\n            return {loading: true, products: [], productsloaded: false}\n        case productsActionsTypes.PRODUCTS_LIST_SUCCESS:\n            return {\n                loading: false, \n                productsloaded: true,\n                products: action.payload.data.filter(product => {\n\n                    const priceToFilter = product.discount === 0 ? product.price : product.discount \n\n                    if (product.category === action.payload.cat || action.payload.cat === \"any\") {\n                        \n                        if ((priceToFilter > action.payload.from && priceToFilter < action.payload.to) || (action.payload.from == 0 && action.payload.to === \"any\")) {\n                            if (product.colors.includes(action.payload.color) || action.payload.color === \"any\") {\n                                return true\n                            } else {\n                                return false\n                            }\n                        \n                        } else {\n                            return false\n                        }\n\n                    } else {\n                        return false\n                    }\n                })\n            }\n  \n        case productsActionsTypes.PRODUCTS_LIST_FAIL:\n            return {loading: false, error: action.payload}\n        default: \n            return state\n    }\n}\n\nexport default productsReducer"]},"metadata":{},"sourceType":"module"}