{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import StripeCheckout from'react-stripe-checkout';import axios from\"axios\";import fashioDuJour from\"../../assets/fashioDuJour.svg\";import\"./stripe-button.style.scss\";var StripeButton=function StripeButton(_ref){var price=_ref.price;var priceForStripe=price*100;var publishableKey=\"pk_test_51I72OjKG0ifR7nrtAI3jTkUtJ0x2KcmAXpK7Imx1FwjmSerMwLLAvfPwFWYpBCsQsXMS0k4DtzGOa8RTRIn2byLI00GrIJmOsA\";var onToken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token){var config,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};_context.next=4;return axios.post(\"http://localhost:5000/api/payment/\",{token:token,amount:priceForStripe},config);case 4:data=_context.sent;console.log(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function onToken(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(StripeCheckout,{label:\"Checkout\",name:\"Fashion Du Jour\",description:\"Your total is \".concat(price),image:fashioDuJour,ComponentClass:\"div\",panelLabel:\"Pay Mow\",amount:priceForStripe,shippingAddress:true,billingAddress:true,token:onToken,stripeKey:publishableKey});};export default StripeButton;","map":{"version":3,"sources":["/home/rony/RONY/BUSINESS/ecommerce-react-node/front-end/src/components/stripe-button/stripe-button.component.jsx"],"names":["React","StripeCheckout","axios","StripeButton","price","priceForStripe","publishableKey","onToken","token","config","headers","post","amount","data","console","log","fashioDuJour"],"mappings":"oYAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wDAGA,MAAO,4BAAP,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CAC9B,GAAMC,CAAAA,cAAc,CAAGD,KAAK,CAAG,GAA/B,CACA,GAAME,CAAAA,cAAc,CAAG,6GAAvB,CAEA,GAAMC,CAAAA,OAAO,2FAAG,iBAAOC,KAAP,kJAGFC,MAHE,CAGO,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAHP,uBAQWR,CAAAA,KAAK,CAACS,IAAN,CAAW,oCAAX,CACnB,CACIH,KAAK,CAALA,KADJ,CAEII,MAAM,CAAEP,cAFZ,CADmB,CAKnBI,MALmB,CARX,QAQFI,IARE,eAcRC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAdQ,+EAgBRC,OAAO,CAACC,GAAR,cAhBQ,oEAAH,kBAAPR,CAAAA,OAAO,6CAAb,CAoBA,mBACI,KAAC,cAAD,EACA,KAAK,CAAC,UADN,CAEA,IAAI,CAAC,iBAFL,CAGA,WAAW,yBAAmBH,KAAnB,CAHX,CAIA,KAAK,CAAEY,YAJP,CAKA,cAAc,CAAC,KALf,CAMA,UAAU,CAAC,SANX,CAOA,MAAM,CAAEX,cAPR,CAQA,eAAe,KARf,CASA,cAAc,KATd,CAUA,KAAK,CAAEE,OAVP,CAWA,SAAS,CAAED,cAXX,EADJ,CAgBH,CAxCD,CA0CA,cAAeH,CAAAA,YAAf","sourcesContent":["import React from 'react'\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from \"axios\";\n\nimport fashioDuJour from \"../../assets/fashioDuJour.svg\"\nimport \"./stripe-button.style.scss\";\n\nconst StripeButton = ({price}) => {\n    const priceForStripe = price * 100;\n    const publishableKey = \"pk_test_51I72OjKG0ifR7nrtAI3jTkUtJ0x2KcmAXpK7Imx1FwjmSerMwLLAvfPwFWYpBCsQsXMS0k4DtzGOa8RTRIn2byLI00GrIJmOsA\";\n    \n    const onToken = async (token) => {\n        \n        try {\n            const config = {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n            const data = await axios.post(\"http://localhost:5000/api/payment/\", \n            {\n                token,\n                amount: priceForStripe\n            },\n            config)\n            console.log(data)\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    return (\n        <StripeCheckout\n        label=\"Checkout\"\n        name=\"Fashion Du Jour\" \n        description={`Your total is ${price}`}\n        image={fashioDuJour}\n        ComponentClass=\"div\"\n        panelLabel=\"Pay Mow\"\n        amount={priceForStripe}\n        shippingAddress\n        billingAddress\n        token={onToken}\n        stripeKey={publishableKey} \n        />\n        \n    )\n}\n\nexport default StripeButton\n"]},"metadata":{},"sourceType":"module"}